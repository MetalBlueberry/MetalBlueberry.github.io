<!DOCTYPE html>
<html lang="en"><meta charset="utf-8"><meta name="generator" content="Hugo 0.68.3" /><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover">
<meta name="color-scheme" content="light dark">
<meta name="supported-color-schemes" content="light dark"><title>Coronavirus Trend In Spain&nbsp;&ndash;&nbsp;MetalBlueberry</title><link rel="stylesheet" href="/css/core.min.7db13716f904d7a3e790e49cd68122bc8215981618ccdbe1165d27b0ff1f6f56a80dda92ca1a2315a698e1cf30e70d70.css" integrity="sha384-fbE3FvkE16PnkOSc1oEivIIVmBYYzNvhFl0nsP8fb1aoDdqSyhojFaaY4c8w5w1w"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Coronavirus Trend In Spain"/>
<meta name="twitter:description" content="After the video from Minute Earth about the coronavirus, I&rsquo;ve decided to plot the same data but only for Spain by province. This gives a good view of which provinces are managing to stop the virus."/>

<meta property="og:title" content="Coronavirus Trend In Spain" />
<meta property="og:description" content="After the video from Minute Earth about the coronavirus, I&rsquo;ve decided to plot the same data but only for Spain by province. This gives a good view of which provinces are managing to stop the virus." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://metalblueberry.github.io/post/blog/2020-04-06_coronavirus_trend_in_spain/" />
<meta property="article:published_time" content="2020-04-07T00:00:00+00:00" />
<meta property="article:modified_time" content="2020-04-13T15:05:07+02:00" />

<meta name="author" content="MetalBlueberry">

<script src="https://cdn.plot.ly/plotly-1.50.0.min.js"></script>


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"><body>
    <div class="base-body"><section id="header" class="site header">
    <div class="header wrap"><span class="header left-side"><a class="site home" href="/"><img class="site logo" src="/android-chrome-512x512.png" alt /><span class="site name">MetalBlueberry</span></a></span>
        <span class="header right-side"><div class="nav wrap"><nav class="nav"><a class="nav item" href="/categories/">Categories</a><a class="nav item" href="/tags/">Tags</a><a class="nav item" href="/about">About</a><a class="nav item" href="/social">Follow me</a></nav></div></span></div><div class="site slogan"><span class="title">A passionate programmer</span></div></section><div id="content"><div class="article-container"><section class="article header">
    <h1 class="article title">Coronavirus Trend In Spain</h1><p class="article date">April 7, 2020<span class="lastmod"> â€¢ edited April 13, 2020</span></p></section><article class="article markdown-body"><p>After the video from Minute Earth about the coronavirus, I&rsquo;ve decided to plot the same data but only for Spain by province. This gives a good view of which provinces are managing to stop the virus.</p>
<p>You have to watch the video to understand the following plots.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube-nocookie.com/embed/54XLXg4fYsc" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<p>Not that your understand&hellip; enjoy it.</p>
<p>You can double click on a label to Isolate it or single click to hide.</p>
<div class="figure">
<div class="figure-plot" id="local_corona">
	Code could not finish, this are some reasons why this happen.
	- Plot name not defined. The first parameter of the shortcode is the name.
	- There is a syntax error. check browser console.
</div>
<script>
  function draw(){
	test = document.getElementById("local_corona");
	if (test == null){
		console.log("The plot name is not defined")
		return
	}

	fig = null
	
fig = {"data": [{"y": [893.0, 1068.0, 1246.0, 1288.0, 1407.0, 1788.0, 2151.0, 2398.0, 2506.0, 2762.0, 2957.0, 3444.0, 3347.0, 3382.0, 3566.0, 3581.0, 3592.0, 3619.0, 3176.0, 2949.0, 2605.0, 2289.0, 2136.0, 1843.0, 1705.0, 1606.0], "x": [1008.0, 1287.0, 1515.0, 1725.0, 1961.0, 2471.0, 3010.0, 3406.0, 3793.0, 4277.0, 4682.0, 5405.0, 5818.0, 6392.0, 6972.0, 7374.0, 7869.0, 8301.0, 8581.0, 8767.0, 8997.0, 9261.0, 9510.0, 9712.0, 10006.0, 10187.0], "text": ["18/3/2020", "19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Andaluc\u00eda", "mode": "lines+markers"}, {"y": [835.0, 978.0, 1168.0, 1326.0, 1440.0, 1514.0, 1584.0, 1584.0, 1551.0, 1486.0, 1374.0, 1269.0, 1177.0, 1058.0, 985.0, 942.0, 891.0, 838.0, 840.0], "x": [1116.0, 1338.0, 1592.0, 1858.0, 2078.0, 2272.0, 2491.0, 2700.0, 2889.0, 3078.0, 3232.0, 3347.0, 3449.0, 3549.0, 3685.0, 3831.0, 3969.0, 4070.0, 4187.0], "text": ["25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Arag\u00f3n", "mode": "lines+markers"}, {"y": [518.0, 543.0, 564.0, 574.0, 543.0, 543.0, 533.0, 518.0, 517.0, 488.0, 443.0, 383.0, 353.0, 366.0, 305.0, 287.0, 312.0], "x": [1004.0, 1088.0, 1158.0, 1236.0, 1322.0, 1384.0, 1433.0, 1522.0, 1605.0, 1646.0, 1679.0, 1705.0, 1737.0, 1799.0, 1827.0, 1892.0, 1958.0], "text": ["27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Asturias", "mode": "lines+markers"}, {"y": [677.0, 711.0, 723.0, 705.0, 723.0, 660.0, 612.0, 539.0, 497.0, 445.0, 463.0, 382.0, 390.0, 368.0, 323.0, 296.0, 295.0], "x": [1025.0, 1125.0, 1204.0, 1262.0, 1380.0, 1444.0, 1490.0, 1564.0, 1622.0, 1649.0, 1725.0, 1762.0, 1834.0, 1858.0, 1887.0, 1918.0, 1944.0], "text": ["27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Canarias", "mode": "lines+markers"}, {"y": [741.0, 753.0, 746.0, 703.0, 597.0, 511.0, 447.0, 418.0, 383.0, 330.0, 359.0, 351.0, 338.0, 335.0, 311.0, 294.0], "x": [1023.0, 1100.0, 1171.0, 1213.0, 1268.0, 1321.0, 1384.0, 1441.0, 1483.0, 1501.0, 1572.0, 1619.0, 1659.0, 1719.0, 1752.0, 1777.0], "text": ["28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Cantabria", "mode": "lines+markers"}, {"y": [1055.0, 1297.0, 1521.0, 1763.0, 2029.0, 2272.0, 2620.0, 2985.0, 3325.0, 3670.0, 3746.0, 3751.0, 3907.0, 3867.0, 3743.0, 3541.0, 3335.0, 3315.0, 3370.0, 3211.0, 3163.0, 3227.0, 3211.0, 3369.0, 3512.0], "x": [1147.0, 1466.0, 1744.0, 2055.0, 2460.0, 2940.0, 3488.0, 4132.0, 4791.0, 5414.0, 5801.0, 6211.0, 6847.0, 7355.0, 7875.0, 8332.0, 8749.0, 9116.0, 9581.0, 10058.0, 10518.0, 11102.0, 11543.0, 12118.0, 12628.0], "text": ["19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Castilla y Le\u00f3n", "mode": "lines+markers"}, {"y": [850.0, 1134.0, 1418.0, 1511.0, 1898.0, 2105.0, 2582.0, 2890.0, 3089.0, 3427.0, 3780.0, 3959.0, 4267.0, 4299.0, 4589.0, 4812.0, 4785.0, 4744.0, 4653.0, 4741.0, 4807.0, 4540.0, 4132.0, 3667.0, 3452.0], "x": [1044.0, 1423.0, 1819.0, 2078.0, 2465.0, 2780.0, 3383.0, 3934.0, 4512.0, 5246.0, 5858.0, 6424.0, 7047.0, 7682.0, 8523.0, 9324.0, 10031.0, 10602.0, 11077.0, 11788.0, 12489.0, 13063.0, 13456.0, 13698.0, 14054.0], "text": ["19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Castilla-La Mancha", "mode": "lines+markers"}, {"y": [1270.0, 1710.0, 2442.0, 2954.0, 3694.0, 3989.0, 5022.0, 6470.0, 8071.0, 8890.0, 9670.0, 10060.0, 10322.0, 10232.0, 10909.0, 10054.0, 10212.0, 10520.0, 10471.0, 11006.0, 10667.0, 9550.0, 9656.0, 9239.0, 8364.0, 8250.0, 7995.0, 7902.0], "x": [1394.0, 1866.0, 2702.0, 3270.0, 4203.0, 4704.0, 5925.0, 7864.0, 9937.0, 11592.0, 12940.0, 14263.0, 15026.0, 16157.0, 18773.0, 19991.0, 21804.0, 23460.0, 24734.0, 26032.0, 26824.0, 28323.0, 29647.0, 31043.0, 31824.0, 32984.0, 34027.0, 34726.0], "text": ["16/3/2020", "17/3/2020", "18/3/2020", "19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Catalu\u00f1a", "mode": "lines+markers"}, {"y": [], "x": [], "text": [], "name": "Ceuta", "mode": "lines+markers"}, {"y": [1011.0, 1233.0, 1195.0, 1492.0, 1626.0, 1890.0, 2279.0, 2427.0, 2671.0, 3180.0, 3209.0, 3341.0, 3306.0, 3108.0, 3092.0, 2867.0, 2400.0, 2224.0, 1935.0, 1733.0, 1656.0, 1707.0, 1677.0, 1657.0, 1726.0], "x": [1105.0, 1363.0, 1604.0, 1901.0, 2167.0, 2616.0, 3200.0, 3532.0, 4034.0, 4784.0, 5110.0, 5508.0, 5922.0, 6308.0, 6624.0, 6901.0, 7184.0, 7334.0, 7443.0, 7655.0, 7964.0, 8331.0, 8578.0, 8841.0, 9060.0], "text": ["19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Comunidad Valenciana", "mode": "lines+markers"}, {"y": [954.0, 1298.0, 1853.0, 2803.0, 3369.0, 3696.0, 4089.0, 4613.0, 5389.0, 5175.0, 5981.0, 6158.0, 6410.0, 7481.0, 8960.0, 10389.0, 12078.0, 12599.0, 12975.0, 13515.0, 15157.0, 15243.0, 14989.0, 14945.0, 14729.0, 14907.0, 14633.0, 12960.0, 12610.0, 11722.0, 10595.0, 9600.0, 9003.0, 8423.0], "x": [1024.0, 1388.0, 1990.0, 2940.0, 3544.0, 4165.0, 4871.0, 5637.0, 6777.0, 7165.0, 8921.0, 9702.0, 10575.0, 12352.0, 14597.0, 17166.0, 19243.0, 21520.0, 22677.0, 24090.0, 27509.0, 29840.0, 32155.0, 34188.0, 36249.0, 37584.0, 38723.0, 40469.0, 42450.0, 43877.0, 44783.0, 45849.0, 46587.0, 47146.0], "text": ["10/3/2020", "11/3/2020", "12/3/2020", "13/3/2020", "14/3/2020", "15/3/2020", "16/3/2020", "17/3/2020", "18/3/2020", "19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Comunidad de Madrid", "mode": "lines+markers"}, {"y": [934.0, 1040.0, 1072.0, 1067.0, 992.0, 937.0, 868.0, 662.0, 585.0, 591.0, 508.0, 488.0, 505.0, 436.0, 439.0, 507.0, 533.0, 590.0], "x": [1231.0, 1394.0, 1456.0, 1560.0, 1628.0, 1679.0, 1837.0, 1893.0, 1979.0, 2047.0, 2068.0, 2116.0, 2184.0, 2273.0, 2332.0, 2486.0, 2580.0, 2658.0], "text": ["26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Extremadura", "mode": "lines+markers"}, {"y": [963.0, 1123.0, 1312.0, 1462.0, 1744.0, 2033.0, 2224.0, 2515.0, 2624.0, 2779.0, 2927.0, 2897.0, 2853.0, 2805.0, 2428.0, 2292.0, 2106.0, 1916.0, 1727.0, 1551.0, 1392.0, 1343.0], "x": [1208.0, 1415.0, 1653.0, 1915.0, 2322.0, 2772.0, 3139.0, 3723.0, 4039.0, 4432.0, 4842.0, 5219.0, 5625.0, 5944.0, 6151.0, 6331.0, 6538.0, 6758.0, 6946.0, 7176.0, 7336.0, 7494.0], "text": ["22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Galicia", "mode": "lines+markers"}, {"y": [591.0, 569.0, 544.0, 502.0, 409.0, 335.0, 320.0, 300.0, 281.0, 244.0, 231.0, 236.0, 241.0, 230.0], "x": [1069.0, 1131.0, 1204.0, 1257.0, 1271.0, 1293.0, 1320.0, 1369.0, 1412.0, 1448.0, 1488.0, 1507.0, 1534.0, 1550.0], "text": ["30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Islas Baleares", "mode": "lines+markers"}, {"y": [739.0, 872.0, 975.0, 986.0, 1008.0, 1032.0, 1088.0, 988.0, 969.0, 963.0, 986.0, 1036.0, 991.0, 943.0, 852.0, 818.0, 687.0, 639.0], "x": [1236.0, 1436.0, 1629.0, 1733.0, 1810.0, 1960.0, 2083.0, 2224.0, 2405.0, 2592.0, 2719.0, 2846.0, 2951.0, 3026.0, 3076.0, 3223.0, 3279.0, 3358.0], "text": ["26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "La Rioja", "mode": "lines+markers"}, {"y": [], "x": [], "text": [], "name": "Melilla", "mode": "lines+markers"}, {"y": [701.0, 811.0, 929.0, 1087.0, 1165.0, 1217.0, 1260.0, 1291.0, 1300.0, 1271.0, 1195.0, 1143.0, 1062.0, 1085.0, 1050.0, 970.0, 893.0, 912.0, 845.0, 896.0, 861.0], "x": [1014.0, 1197.0, 1411.0, 1641.0, 1829.0, 2011.0, 2146.0, 2305.0, 2497.0, 2682.0, 2836.0, 2972.0, 3073.0, 3231.0, 3355.0, 3467.0, 3575.0, 3748.0, 3817.0, 3969.0, 4092.0], "text": ["23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Navarra", "mode": "lines+markers"}, {"y": [844.0, 1048.0, 1204.0, 1467.0, 1791.0, 1963.0, 2298.0, 2756.0, 3136.0, 3411.0, 3643.0, 3636.0, 3592.0, 3567.0, 3371.0, 3226.0, 3051.0, 2888.0, 2753.0, 2701.0, 2614.0, 2489.0, 2276.0, 2328.0, 2144.0, 2208.0], "x": [1190.0, 1465.0, 1725.0, 2097.0, 2421.0, 2728.0, 3271.0, 3946.0, 4601.0, 5136.0, 5740.0, 6057.0, 6320.0, 6838.0, 7317.0, 7827.0, 8187.0, 8628.0, 8810.0, 9021.0, 9452.0, 9806.0, 10103.0, 10515.0, 10772.0, 11018.0], "text": ["18/3/2020", "19/3/2020", "20/3/2020", "21/3/2020", "22/3/2020", "23/3/2020", "24/3/2020", "25/3/2020", "26/3/2020", "27/3/2020", "28/3/2020", "29/3/2020", "30/3/2020", "31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Pa\u00eds Vasco", "mode": "lines+markers"}, {"y": [564.0, 488.0, 431.0, 386.0, 363.0, 320.0, 309.0, 285.0, 272.0, 238.0, 225.0, 214.0, 204.0], "x": [1041.0, 1084.0, 1145.0, 1188.0, 1235.0, 1259.0, 1283.0, 1326.0, 1356.0, 1383.0, 1413.0, 1449.0, 1463.0], "text": ["31/3/2020", "1/4/2020", "2/4/2020", "3/4/2020", "4/4/2020", "5/4/2020", "6/4/2020", "7/4/2020", "8/4/2020", "9/4/2020", "10/4/2020", "11/4/2020", "12/4/2020"], "name": "Regi\u00f3n de Murcia", "mode": "lines+markers"}], "layout": {"title": "Exito frenando el coronavirus por comunidad", "xaxis": {"title": "Casos Totales", "type": "log"}, "yaxis": {"title": "Casos Nuevos Ultima Semana", "type": "log"}}}


	if (!fig) {
		test.innerText = "ERROR: fig variable is not defined"
		return
	}
	test.innerText = null
	Plotly.plot(test ,fig);
  }
  draw()
</script>
</div>
<div class="figure">
<div class="figure-plot" id="total_corona">
	Code could not finish, this are some reasons why this happen.
	- Plot name not defined. The first parameter of the shortcode is the name.
	- There is a syntax error. check browser console.
</div>
<script>
  function draw(){
	test = document.getElementById("total_corona");
	if (test == null){
		console.log("The plot name is not defined")
		return
	}

	fig = null
	
fig = {"data": [{"y": [0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 0.0, 5.0, 8.0, 9.0, 9.0, 13.0, 114.0, 155.0, 213.0, 251.0, 389.0, 870.0, 1458.0, 1923.0, 2691.0, 3764.0, 5455.0, 7163.0, 8134.0, 9554.0, 11599.0, 14218.0, 15850.0, 19082.0, 20874.0, 23940.0, 28495.0, 33894.0, 39041.0, 44079.0, 47322.0, 50225.0, 52106.0, 54744.0, 54526.0, 54050.0, 53651.0, 52488.0, 51962.0, 49837.0, 46093.0, 44554.0, 42208.0, 39312.0, 37116.0, 35260.0, 34464.0], "x": [2.0, 2.0, 2.0, 2.0, 3.0, 10.0, 16.0, 29.0, 43.0, 65.0, 113.0, 148.0, 194.0, 238.0, 364.0, 386.0, 526.0, 1006.0, 1606.0, 2117.0, 2929.0, 4130.0, 5844.0, 7698.0, 9149.0, 11178.0, 13716.0, 17147.0, 19980.0, 24926.0, 28572.0, 33089.0, 39673.0, 47610.0, 56188.0, 64059.0, 72248.0, 78797.0, 85195.0, 94417.0, 102136.0, 110238.0, 117710.0, 124736.0, 130759.0, 135032.0, 140510.0, 146690.0, 152446.0, 157022.0, 161852.0, 166019.0, 169496.0], "name": "casos totales", "mode": "lines+markers"}], "layout": {"title": "Exito frenando el coronavirus total", "xaxis": {"title": "Casos Totales", "type": "log"}, "yaxis": {"title": "Casos Nuevos Ultima Semana", "type": "log"}}}


	if (!fig) {
		test.innerText = "ERROR: fig variable is not defined"
		return
	}
	test.innerText = null
	Plotly.plot(test ,fig);
  }
  draw()
</script>
</div>
<p>leave your comments bellow.</p>
<div class="expand">
    <div class="expand-label" id="expand-label-3" style="cursor: pointer;">
        <span>
            
            
            Click here to see the code:
            
        </span>
    </div>
    <div class="expand-content" id="expand-content-3" style="display: none;">
        <div class="highlight"><div style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="color:#f8f8f2;background-color:#282a36;-moz-tab-size:2;-o-tab-size:2;tab-size:2"><code class="language-python" data-lang="python"><span style="color:#ff79c6">import</span> pandas <span style="color:#ff79c6">as</span> pd
<span style="color:#ff79c6">import</span> requests
<span style="color:#ff79c6">import</span> json

<span style="color:#ff79c6">from</span> datetime <span style="color:#ff79c6">import</span> timedelta,datetime, date
<span style="color:#ff79c6">from</span> io <span style="color:#ff79c6">import</span> StringIO


codigos <span style="color:#ff79c6">=</span> {<span style="color:#f1fa8c">&#39;AN&#39;</span>:<span style="color:#f1fa8c">&#39;AndalucÃ­a&#39;</span>,
<span style="color:#f1fa8c">&#39;AR&#39;</span>:<span style="color:#f1fa8c">&#39;AragÃ³n&#39;</span>,
<span style="color:#f1fa8c">&#39;AS&#39;</span>:<span style="color:#f1fa8c">&#39;Asturias&#39;</span>,
<span style="color:#f1fa8c">&#39;CN&#39;</span>:<span style="color:#f1fa8c">&#39;Canarias&#39;</span>,
<span style="color:#f1fa8c">&#39;CB&#39;</span>:<span style="color:#f1fa8c">&#39;Cantabria&#39;</span>,
<span style="color:#f1fa8c">&#39;CM&#39;</span>:<span style="color:#f1fa8c">&#39;Castilla-La Mancha&#39;</span>,
<span style="color:#f1fa8c">&#39;CL&#39;</span>:<span style="color:#f1fa8c">&#39;Castilla y LeÃ³n&#39;</span>,
<span style="color:#f1fa8c">&#39;CT&#39;</span>:<span style="color:#f1fa8c">&#39;CataluÃ±a&#39;</span>,
<span style="color:#f1fa8c">&#39;EX&#39;</span>:<span style="color:#f1fa8c">&#39;Extremadura&#39;</span>,
<span style="color:#f1fa8c">&#39;GA&#39;</span>:<span style="color:#f1fa8c">&#39;Galicia&#39;</span>,
<span style="color:#f1fa8c">&#39;IB&#39;</span>:<span style="color:#f1fa8c">&#39;Islas Baleares&#39;</span>,
<span style="color:#f1fa8c">&#39;RI&#39;</span>:<span style="color:#f1fa8c">&#39;La Rioja&#39;</span>,
<span style="color:#f1fa8c">&#39;MD&#39;</span>:<span style="color:#f1fa8c">&#39;Comunidad de Madrid&#39;</span>,
<span style="color:#f1fa8c">&#39;MC&#39;</span>:<span style="color:#f1fa8c">&#39;RegiÃ³n de Murcia&#39;</span>,
<span style="color:#f1fa8c">&#39;NC&#39;</span>:<span style="color:#f1fa8c">&#39;Navarra&#39;</span>,
<span style="color:#f1fa8c">&#39;PV&#39;</span>:<span style="color:#f1fa8c">&#39;PaÃ­s Vasco&#39;</span>,
<span style="color:#f1fa8c">&#39;VC&#39;</span>:<span style="color:#f1fa8c">&#39;Comunidad Valenciana&#39;</span>,
<span style="color:#f1fa8c">&#39;CE&#39;</span>:<span style="color:#f1fa8c">&#39;Ceuta&#39;</span>,
<span style="color:#f1fa8c">&#39;ML&#39;</span>:<span style="color:#f1fa8c">&#39;Melilla&#39;</span>
}


population <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>read_html(<span style="color:#f1fa8c">&#34;https://es.wikipedia.org/wiki/Anexo:Provincias_y_ciudades_aut%C3%B3nomas_de_Espa%C3%B1a&#34;</span>)[<span style="color:#bd93f9">0</span>]
population<span style="color:#ff79c6">.</span>PoblaciÃ³n <span style="color:#ff79c6">=</span> population<span style="color:#ff79c6">.</span>PoblaciÃ³n<span style="color:#ff79c6">.</span>str<span style="color:#ff79c6">.</span>replace(<span style="color:#f1fa8c">&#34;.&#34;</span>,<span style="color:#f1fa8c">&#34;&#34;</span>)<span style="color:#ff79c6">.</span>astype(<span style="color:#8be9fd;font-style:italic">int</span>)
population <span style="color:#ff79c6">=</span> population<span style="color:#ff79c6">.</span>groupby(<span style="color:#f1fa8c">&#34;Comunidad autÃ³noma&#34;</span>)<span style="color:#ff79c6">.</span>sum()[<span style="color:#f1fa8c">&#34;PoblaciÃ³n&#34;</span>]<span style="color:#ff79c6">.</span>to_dict()

r <span style="color:#ff79c6">=</span> requests<span style="color:#ff79c6">.</span>get(<span style="color:#f1fa8c">&#34;https://covid19.isciii.es/resources/serie_historica_acumulados.csv&#34;</span>)
text <span style="color:#ff79c6">=</span> r<span style="color:#ff79c6">.</span>text[<span style="color:#bd93f9">0</span>:r<span style="color:#ff79c6">.</span>text<span style="color:#ff79c6">.</span>index(<span style="color:#f1fa8c">&#34;NOTA&#34;</span>)]
spain <span style="color:#ff79c6">=</span> pd<span style="color:#ff79c6">.</span>read_csv(StringIO(text))<span style="color:#ff79c6">.</span>dropna(subset<span style="color:#ff79c6">=</span>[<span style="color:#f1fa8c">&#34;CCAA&#34;</span>])
spain<span style="color:#ff79c6">.</span>columns <span style="color:#ff79c6">=</span>  [c<span style="color:#ff79c6">.</span>strip() <span style="color:#ff79c6">for</span> c <span style="color:#ff79c6">in</span> spain<span style="color:#ff79c6">.</span>columns]
spain[<span style="color:#f1fa8c">&#34;Provincia&#34;</span>] <span style="color:#ff79c6">=</span> spain[<span style="color:#f1fa8c">&#34;CCAA&#34;</span>]<span style="color:#ff79c6">.</span>apply(<span style="color:#ff79c6">lambda</span> x: codigos[x])
spain[<span style="color:#f1fa8c">&#34;Poblacion&#34;</span>] <span style="color:#ff79c6">=</span> spain<span style="color:#ff79c6">.</span>Provincia<span style="color:#ff79c6">.</span>apply(<span style="color:#ff79c6">lambda</span> x: population[x])
spain[<span style="color:#f1fa8c">&#34;Nuevos_Casos&#34;</span>] <span style="color:#ff79c6">=</span> spain<span style="color:#ff79c6">.</span>groupby(<span style="color:#f1fa8c">&#34;Provincia&#34;</span>)[<span style="color:#f1fa8c">&#34;CASOS&#34;</span>]<span style="color:#ff79c6">.</span>diff()
spain[<span style="color:#f1fa8c">&#34;Casos_x_1000&#34;</span>] <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1000</span><span style="color:#ff79c6">*</span>spain<span style="color:#ff79c6">.</span>CASOS <span style="color:#ff79c6">/</span> spain<span style="color:#ff79c6">.</span>Poblacion
spain[<span style="color:#f1fa8c">&#34;Nuevos_Casos_x_1000&#34;</span>] <span style="color:#ff79c6">=</span>  <span style="color:#bd93f9">1000</span><span style="color:#ff79c6">*</span> spain<span style="color:#ff79c6">.</span>Nuevos_Casos <span style="color:#ff79c6">/</span> spain<span style="color:#ff79c6">.</span>Poblacion
spain[<span style="color:#f1fa8c">&#34;Nuevos_Casos_Ultima_Semana&#34;</span>] <span style="color:#ff79c6">=</span> spain<span style="color:#ff79c6">.</span>groupby(<span style="color:#f1fa8c">&#34;Provincia&#34;</span>)[<span style="color:#f1fa8c">&#34;Nuevos_Casos&#34;</span>]<span style="color:#ff79c6">.</span>rolling(<span style="color:#bd93f9">7</span>)<span style="color:#ff79c6">.</span>sum()<span style="color:#ff79c6">.</span>reset_index(<span style="color:#bd93f9">0</span>,drop<span style="color:#ff79c6">=</span>True)
spainc <span style="color:#ff79c6">=</span> spain[spain<span style="color:#ff79c6">.</span>CASOS <span style="color:#ff79c6">&gt;</span> <span style="color:#bd93f9">1000</span>]

fig <span style="color:#ff79c6">=</span> {
    <span style="color:#f1fa8c">&#34;data&#34;</span>:[ {
        <span style="color:#f1fa8c">&#34;y&#34;</span>:spainc[(spainc[<span style="color:#f1fa8c">&#34;Provincia&#34;</span>]<span style="color:#ff79c6">==</span>cat)][<span style="color:#f1fa8c">&#34;Nuevos_Casos_Ultima_Semana&#34;</span>]<span style="color:#ff79c6">.</span>to_list(),
        <span style="color:#f1fa8c">&#34;x&#34;</span>:spainc[(spainc[<span style="color:#f1fa8c">&#34;Provincia&#34;</span>]<span style="color:#ff79c6">==</span>cat)][<span style="color:#f1fa8c">&#34;CASOS&#34;</span>]<span style="color:#ff79c6">.</span>to_list(),
        <span style="color:#f1fa8c">&#34;text&#34;</span>: spainc[(spainc[<span style="color:#f1fa8c">&#34;Provincia&#34;</span>]<span style="color:#ff79c6">==</span>cat)][<span style="color:#f1fa8c">&#34;FECHA&#34;</span>]<span style="color:#ff79c6">.</span>to_list(),
        <span style="color:#f1fa8c">&#34;name&#34;</span>: cat,
        <span style="color:#f1fa8c">&#34;mode&#34;</span>: <span style="color:#f1fa8c">&#34;lines+markers&#34;</span>
    } <span style="color:#ff79c6">for</span> cat <span style="color:#ff79c6">in</span> <span style="color:#8be9fd;font-style:italic">sorted</span>(spain[<span style="color:#f1fa8c">&#34;Provincia&#34;</span>]<span style="color:#ff79c6">.</span>unique()) ],
    <span style="color:#f1fa8c">&#34;layout&#34;</span>:{
        <span style="color:#f1fa8c">&#34;title&#34;</span>:<span style="color:#f1fa8c">&#34;Exito frenando el coronavirus por comunidad&#34;</span>,
        <span style="color:#f1fa8c">&#34;xaxis&#34;</span>:{
            <span style="color:#f1fa8c">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Casos Totales&#34;</span>,
            <span style="color:#f1fa8c">&#34;type&#34;</span>:<span style="color:#f1fa8c">&#34;log&#34;</span>
        },
        <span style="color:#f1fa8c">&#34;yaxis&#34;</span>:{
            <span style="color:#f1fa8c">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Casos Nuevos Ultima Semana&#34;</span>,
            <span style="color:#f1fa8c">&#34;type&#34;</span>:<span style="color:#f1fa8c">&#34;log&#34;</span>
        }
    }
    
}
local <span style="color:#ff79c6">=</span> json<span style="color:#ff79c6">.</span>dumps(fig)


aggregated <span style="color:#ff79c6">=</span> spain<span style="color:#ff79c6">.</span>groupby([<span style="color:#f1fa8c">&#34;FECHA&#34;</span>],as_index<span style="color:#ff79c6">=</span>False)<span style="color:#ff79c6">.</span>sum()[[<span style="color:#f1fa8c">&#34;FECHA&#34;</span>,<span style="color:#f1fa8c">&#34;CASOS&#34;</span>,<span style="color:#f1fa8c">&#34;Nuevos_Casos&#34;</span>,<span style="color:#f1fa8c">&#34;Nuevos_Casos_Ultima_Semana&#34;</span>]]<span style="color:#ff79c6">.</span>sort_values(<span style="color:#f1fa8c">&#34;CASOS&#34;</span>)
fig <span style="color:#ff79c6">=</span> {
    <span style="color:#f1fa8c">&#34;data&#34;</span>: [{
        <span style="color:#f1fa8c">&#34;y&#34;</span>:aggregated[<span style="color:#f1fa8c">&#34;Nuevos_Casos_Ultima_Semana&#34;</span>]<span style="color:#ff79c6">.</span>to_list(),
        <span style="color:#f1fa8c">&#34;x&#34;</span>:aggregated[<span style="color:#f1fa8c">&#34;CASOS&#34;</span>]<span style="color:#ff79c6">.</span>to_list(),
        <span style="color:#f1fa8c">&#34;name&#34;</span>: <span style="color:#f1fa8c">&#34;casos totales&#34;</span>,
        <span style="color:#f1fa8c">&#34;mode&#34;</span>: <span style="color:#f1fa8c">&#34;lines+markers&#34;</span>
    }],
    <span style="color:#f1fa8c">&#34;layout&#34;</span>:{
        <span style="color:#f1fa8c">&#34;title&#34;</span>:<span style="color:#f1fa8c">&#34;Exito frenando el coronavirus total&#34;</span>,
        <span style="color:#f1fa8c">&#34;xaxis&#34;</span>:{
            <span style="color:#f1fa8c">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Casos Totales&#34;</span>,
            <span style="color:#f1fa8c">&#34;type&#34;</span>:<span style="color:#f1fa8c">&#34;log&#34;</span>
        },
        <span style="color:#f1fa8c">&#34;yaxis&#34;</span>:{
            <span style="color:#f1fa8c">&#34;title&#34;</span>: <span style="color:#f1fa8c">&#34;Casos Nuevos Ultima Semana&#34;</span>,
            <span style="color:#f1fa8c">&#34;type&#34;</span>:<span style="color:#f1fa8c">&#34;log&#34;</span>
        }
    }
    
}
total <span style="color:#ff79c6">=</span> json<span style="color:#ff79c6">.</span>dumps(fig)

template <span style="color:#ff79c6">=</span> <span style="color:#f1fa8c">&#34;&#34;&#34;
</span><span style="color:#f1fa8c">&lt;div class=&#34;figure&#34;&gt;
</span><span style="color:#f1fa8c">&lt;div class=&#34;figure-plot&#34; id=&#34;local_corona&#34;&gt;
</span><span style="color:#f1fa8c">	Code could not finish, this are some reasons why this happen.
</span><span style="color:#f1fa8c">	- Plot name not defined. The first parameter of the shortcode is the name.
</span><span style="color:#f1fa8c">	- There is a syntax error. check browser console.
</span><span style="color:#f1fa8c">&lt;/div&gt;
</span><span style="color:#f1fa8c">&lt;script&gt;
</span><span style="color:#f1fa8c">  function draw(){
</span><span style="color:#f1fa8c">	test = document.getElementById(&#34;local_corona&#34;);
</span><span style="color:#f1fa8c">	if (test == null){
</span><span style="color:#f1fa8c">		console.log(&#34;The plot name is not defined&#34;)
</span><span style="color:#f1fa8c">		return
</span><span style="color:#f1fa8c">	}
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">	fig = null
</span><span style="color:#f1fa8c">	
</span><span style="color:#f1fa8c">fig = </span><span style="color:#f1fa8c">%s</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">	if (!fig) {
</span><span style="color:#f1fa8c">		test.innerText = &#34;ERROR: fig variable is not defined&#34;
</span><span style="color:#f1fa8c">		return
</span><span style="color:#f1fa8c">	}
</span><span style="color:#f1fa8c">	test.innerText = null
</span><span style="color:#f1fa8c">	Plotly.plot(test ,fig);
</span><span style="color:#f1fa8c">  }
</span><span style="color:#f1fa8c">  draw()
</span><span style="color:#f1fa8c">&lt;/script&gt;
</span><span style="color:#f1fa8c">&lt;/div&gt;
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">&lt;div class=&#34;figure&#34;&gt;
</span><span style="color:#f1fa8c">&lt;div class=&#34;figure-plot&#34; id=&#34;total_corona&#34;&gt;
</span><span style="color:#f1fa8c">	Code could not finish, this are some reasons why this happen.
</span><span style="color:#f1fa8c">	- Plot name not defined. The first parameter of the shortcode is the name.
</span><span style="color:#f1fa8c">	- There is a syntax error. check browser console.
</span><span style="color:#f1fa8c">&lt;/div&gt;
</span><span style="color:#f1fa8c">&lt;script&gt;
</span><span style="color:#f1fa8c">  function draw(){
</span><span style="color:#f1fa8c">	test = document.getElementById(&#34;total_corona&#34;);
</span><span style="color:#f1fa8c">	if (test == null){
</span><span style="color:#f1fa8c">		console.log(&#34;The plot name is not defined&#34;)
</span><span style="color:#f1fa8c">		return
</span><span style="color:#f1fa8c">	}
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">	fig = null
</span><span style="color:#f1fa8c">	
</span><span style="color:#f1fa8c">fig = </span><span style="color:#f1fa8c">%s</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">
</span><span style="color:#f1fa8c">	if (!fig) {
</span><span style="color:#f1fa8c">		test.innerText = &#34;ERROR: fig variable is not defined&#34;
</span><span style="color:#f1fa8c">		return
</span><span style="color:#f1fa8c">	}
</span><span style="color:#f1fa8c">	test.innerText = null
</span><span style="color:#f1fa8c">	Plotly.plot(test ,fig);
</span><span style="color:#f1fa8c">  }
</span><span style="color:#f1fa8c">  draw()
</span><span style="color:#f1fa8c">&lt;/script&gt;
</span><span style="color:#f1fa8c">&lt;/div&gt;
</span><span style="color:#f1fa8c">&#34;&#34;&#34;</span>

<span style="color:#ff79c6">print</span>(template <span style="color:#ff79c6">%</span> (local, total))
</code></pre></td></tr></table>
</div>
</div><p>Refer to <a href="https://metalblueberry.github.io/post/howto/2019-11-23_add_plots_with_hugo_shortcodes/">Add Plots With Hugo Shortcodes</a> if you do not understand the previus template.</p>

    </div>
    <script>
        function collapse(e) {
            e = e || window.event;
            var target = e.target || e.srcElement,
                text = target.textContent || target.innerText;

            console.log("event received")
            console.log(target)

            target.classList.toggle("active");
            var content = this.nextElementSibling;
            console.log(content)
            console.log(content.style.display)
            if (content.style.display === "block") {
                content.style.display = "none";
                console.log(content.style.display)
            } else {
                content.style.display = "block";
            }
        }
        document.getElementById("expand-label-3").addEventListener("click", collapse);
    </script>
</div>
<h2 id="references">References</h2>
<ul>
<li><a href="https://covid19.isciii.es/"target="_blank">SituaciÃ³n COVID-19 EspaÃ±a</a></li>
</ul></article><section class="article labels"><a class="category" href=/categories/blog/>blog</a><a class="tag" href=/tags/coronavirus/>coronavirus</a></section></div><section class="article navigation"><p><a class="link" href="/post/blog/2020-03-30-weekend_learnings/"><span class="li">&rarr;</span>2020-03-30 Weekend Learnings</a></p></section><section class="article discussion"><script 
            src="https://utteranc.es/client.js" 
            repo="MetalBlueberry/MetalBlueberry.github.io"
            issue-term="og:title"
            label=""
            theme="github-light"
            crossorigin="anonymous" async>
        </script></section>
<div class="claps">
  <div class="canvas">
    <div id="totalCounter" class="total-counter"></div>

    <div id="clap" class="clap-container">
      <i class="clap-icon fa fa-hand-paper-o"></i>
    </div>

    <div id="clicker" class="click-counter">
      <span class="counter"></span>
    </div>

    <div id="sonar-clap" class="clap-container-sonar"></div>

    <div id="particles" class="particles-container">
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
    </div>

    <div id="particles-2" class="particles-container">
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
    </div>

    <div id="particles-3" class="particles-container">
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
      <div class="triangle">
        <div class="square"></div>
      </div>
    </div>

  </div>
</div></div><section id="footer" class="footer"><div class="footer-wrap">
    <p class="copyright">VÃ­ctor PÃ©rez Domingo</p>
    <p class="powerby"><span>Powered by </span><a href="https://gohugo.io" 
        target="_blank">Hugo</a><span> and the </span><a href="https://themes.gohugo.io/hugo-notepadium/" 
        target="_blank">Notepadium</a></p>
</div></section>
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-150427130-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<script src="/js/core.min.9cbe16a100d0d3b06c0606601a62c9054e3fdf4afa0babe71ac90c1f7a9828e82ba810e5c0d40dbb634645ec94b6728d.js" integrity="sha384-nL4WoQDQ07BsBgZgGmLJBU4/30r6C6vnGskMH3qYKOgrqBDlwNQNu2NGReyUtnKN"></script></div>
</body>

</html>